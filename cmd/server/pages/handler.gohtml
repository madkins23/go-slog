<html>
<head>
  <title>Benchmark Data</title>
  <link rel="stylesheet" href="/go-slog/style.css">
  <script src="/go-slog/scripts.js"></script>
</head>

<body>
<div class="wrapper">
  <div class="header">
    {{ $name := .Benchmarks.HandlerName .Handler }}
    {{ template "partHeader" dict "top" $ "title" (printf "Handler <span class=\"fixed\">%s</span>" $name) }}
  </div>
  <div class="content">
    <div>
      <table class="top">
        {{ if .Benchmarks.HasHandler .Handler }}
          {{ $hdlrScore := .Benchmarks.HandlerScore .Handler }}
          <tr>
            <td><h2 class="score">Benchmark Data</h2></td>
            <td class="score">Overall Score: <span>{{ $.FixFloat $hdlrScore.Overall }}</span></td>
          </tr>
          <tr>
            <td colspan=2 align="center">
              <table class="data">
                <tr>
                  <th>Benchmark</th>
                  <th>Runs</th>
                  <th>Ns/Op</th>
                  <th>Allocs/Op</th>
                  <th>Bytes/Op</th>
                  <th>MB/Sec</th>
                  <th>Score</th>
                </tr>
                {{ range $tag, $record := .Benchmarks.TestRecords .Handler }}
                  <tr>
                    <td class="fixed">{{ $.Benchmarks.TestName $tag }}</td>
                    <td class="number">{{ $.FixUint $record.Runs }}</td>
                    <td class="number">{{ $.FixFloat $record.NanosPerOp }}</td>
                      <td class="number">{{ $.FixUint $record.MemAllocsPerOp }}</td>
                     <td class="number">{{ $.FixUint $record.MemBytesPerOp }}</td>
                    <td class="number">{{ $.FixFloat $record.MbPerSec }}</td>
                    <td class="number">{{ $.FixFloat ($hdlrScore.ForTest $tag) }}</td>
                  </tr>
                {{ end }} {{/* range $tag, $record */}}
              </table>
            </td>
          </tr>
          <tr><td colspan=2><hr/></td></tr>
          <tr><td colspan=2><h2>Benchmark Charts</h2></td></tr>
          <tr>
            <td colspan=2 class="score">
              <table>
                <tr>
                  <td><img src="/go-slog/chart/{{ .Handler }}/Nanos.svg" alt="{{ .Benchmarks.HandlerName .Handler }} Ns/Op" class="chart" /></td>
                  <td><img src="/go-slog/chart/{{ .Handler }}/MemAllocs.svg" alt="{{ .Benchmarks.HandlerName .Handler }} Allocs/Op" class="chart" /></td>
                </tr>
                <tr>
                  <td><img src="/go-slog/chart/{{ .Handler }}/MemBytes.svg" alt="{{ .Benchmarks.HandlerName .Handler }} Bytes/Op" class="chart" /></td>
                  <td><img src="/go-slog/chart/{{ .Handler }}/GbPerSec.svg" alt="{{ .Benchmarks.HandlerName .Handler }} GB/Sec" class="chart" /></td>
                </tr>
              </table>
            </td>
          </tr>
        {{ end }} {{/* if .Benchmarks.HasHandler .Handler */}}
        {{ if .Warnings.HasHandler .Handler }}
          <tr><td colspan=2><hr/></td></tr>
          <tr><td colspan=2><h2 >Warnings</h2></td></tr>
          <tr>
            <td colspan=2 align="center">
              <table class="warning">
                <colgroup>
                  <col width="3%"/>
                  <col width="3%"/>
                  <col width="30%"/>
                  <col width="58%"/>
                  <col width="6%"/>
                </colgroup>
                {{ $data := .Warnings.ForHandler .Handler }}
                {{ template "partWarnings" $data }}
              </table>
            </td>
        {{ end }} {{/* if there are warnings for this handler */}}
      </table>
    </div>
  </div>
  <div class="footer">
    {{ template "partFooter" $ }}
  </div>
</div>
</body>
</html>
